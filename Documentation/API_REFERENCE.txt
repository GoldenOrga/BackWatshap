â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                         WATCHER API REFERENCE v1.0                            â•‘
â•‘                    Tous les Endpoints & URL de l'Application                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸŒ URLS PRINCIPALES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Application Web:     http://localhost:5000
WebSocket (Socket): ws://localhost:5000 (automatique via /socket.io/)
API Base:            http://localhost:5000/api

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ” AUTHENTICATION ENDPOINTS (/api/auth)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€ POST /api/auth/register
â”‚  Description: CrÃ©er un nouveau compte utilisateur
â”‚  Auth Required: âŒ Non
â”‚  Body:
â”‚  {
â”‚    "name": "Alice",
â”‚    "email": "alice@test.com",
â”‚    "password": "SecurePassword123!",
â”‚    "avatar": "https://example.com/avatar.jpg" (optionnel)
â”‚  }
â”‚  Response:
â”‚  {
â”‚    "accessToken": "eyJhbGc...",
â”‚    "refreshToken": "eyJhbGc...",
â”‚    "user": {
â”‚      "id": "507f1f77bcf86cd799439011",
â”‚      "name": "Alice",
â”‚      "email": "alice@test.com",
â”‚      "avatar": "...",
â”‚      "isOnline": true
â”‚    }
â”‚  }
â”‚  Status: 201 Created
â””â”€

â”Œâ”€ POST /api/auth/login
â”‚  Description: Se connecter avec email et mot de passe
â”‚  Auth Required: âŒ Non
â”‚  Body:
â”‚  {
â”‚    "email": "alice@test.com",
â”‚    "password": "SecurePassword123!"
â”‚  }
â”‚  Response:
â”‚  {
â”‚    "accessToken": "eyJhbGc...",
â”‚    "refreshToken": "eyJhbGc...",
â”‚    "user": { ... }
â”‚  }
â”‚  Status: 200 OK
â””â”€

â”Œâ”€ POST /api/auth/refresh-token
â”‚  Description: RafraÃ®chir le access token
â”‚  Auth Required: âœ… Oui (Bearer token)
â”‚  Body:
â”‚  {
â”‚    "refreshToken": "eyJhbGc..."
â”‚  }
â”‚  Response:
â”‚  {
â”‚    "accessToken": "eyJhbGc..."
â”‚  }
â”‚  Status: 200 OK
â””â”€

â”Œâ”€ POST /api/auth/logout
â”‚  Description: Se dÃ©connecter
â”‚  Auth Required: âœ… Oui (Bearer token)
â”‚  Body: {}
â”‚  Response: { "message": "DÃ©connexion rÃ©ussie" }
â”‚  Status: 200 OK
â””â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ‘¤ USERS ENDPOINTS (/api/users)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€ GET /api/users
â”‚  Description: Lister tous les utilisateurs
â”‚  Auth Required: âœ… Oui
â”‚  Query Params: aucun
â”‚  Response: [{ id, name, email, avatar, isOnline, lastLogout }, ...]
â”‚  Status: 200 OK
â””â”€

â”Œâ”€ GET /api/users/profile
â”‚  Description: Obtenir mon profil utilisateur
â”‚  Auth Required: âœ… Oui
â”‚  Response: { id, name, email, avatar, isOnline, lastLogout, createdAt }
â”‚  Status: 200 OK
â””â”€

â”Œâ”€ PUT /api/users/profile
â”‚  Description: Mettre Ã  jour mon profil
â”‚  Auth Required: âœ… Oui
â”‚  Body:
â”‚  {
â”‚    "name": "Alice Wonderland",
â”‚    "avatar": "https://example.com/new-avatar.jpg"
â”‚  }
â”‚  Response: { id, name, email, avatar, ... }
â”‚  Status: 200 OK
â””â”€

â”Œâ”€ GET /api/users/search?q=alice
â”‚  Description: Chercher un utilisateur par nom
â”‚  Auth Required: âœ… Oui
â”‚  Query Params: q (string) - terme de recherche
â”‚  Response: [{ id, name, email, avatar, isOnline }, ...]
â”‚  Status: 200 OK
â””â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ CONTACTS ENDPOINTS (/api/contacts)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€ GET /api/contacts
â”‚  Description: Lister tous mes contacts
â”‚  Auth Required: âœ… Oui
â”‚  Response: [{ id, user, contact, status, createdAt }, ...]
â”‚  Status: 200 OK
â””â”€

â”Œâ”€ GET /api/contacts/blocked
â”‚  Description: Lister mes contacts bloquÃ©s
â”‚  Auth Required: âœ… Oui
â”‚  Response: [{ id, user, contact, blockedAt }, ...]
â”‚  Status: 200 OK
â””â”€

â”Œâ”€ POST /api/contacts
â”‚  Description: Ajouter un contact
â”‚  Auth Required: âœ… Oui
â”‚  Body:
â”‚  {
â”‚    "contactId": "507f1f77bcf86cd799439012"
â”‚  }
â”‚  Response: { id, user, contact, status: "pending", createdAt }
â”‚  Status: 201 Created
â””â”€

â”Œâ”€ DELETE /api/contacts/:contactId
â”‚  Description: Supprimer un contact
â”‚  Auth Required: âœ… Oui
â”‚  Params: contactId (ObjectId)
â”‚  Response: { message: "Contact supprimÃ©" }
â”‚  Status: 200 OK
â””â”€

â”Œâ”€ PUT /api/contacts/:contactId/block
â”‚  Description: Bloquer un contact
â”‚  Auth Required: âœ… Oui
â”‚  Params: contactId (ObjectId)
â”‚  Body: {}
â”‚  Response: { id, user, contact, status: "blocked", blockedAt }
â”‚  Status: 200 OK
â””â”€

â”Œâ”€ PUT /api/contacts/:contactId/unblock
â”‚  Description: DÃ©bloquer un contact
â”‚  Auth Required: âœ… Oui
â”‚  Params: contactId (ObjectId)
â”‚  Body: {}
â”‚  Response: { id, user, contact, status: "accepted" }
â”‚  Status: 200 OK
â””â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ’¬ MESSAGES & CONVERSATIONS (/api/messages)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€ GET /api/messages/conversations
â”‚  Description: Lister toutes mes conversations
â”‚  Auth Required: âœ… Oui
â”‚  Response: [{ id, name, participants, lastMessage, unreadCount, ... }, ...]
â”‚  Status: 200 OK
â””â”€

â”Œâ”€ POST /api/messages/conversations
â”‚  Description: CrÃ©er une nouvelle conversation ou groupe
â”‚  Auth Required: âœ… Oui
â”‚  Body:
â”‚  {
â”‚    "participantIds": ["507f1f77bcf86cd799439012", "507f1f77bcf86cd799439013"],
â”‚    "name": "Group Chat" (optionnel, pour groupes)
â”‚  }
â”‚  Response: { id, name, participants, creator, isGroup, createdAt }
â”‚  Status: 201 Created
â””â”€

â”Œâ”€ GET /api/messages/conversation/:conversationId
â”‚  Description: Obtenir tous les messages d'une conversation
â”‚  Auth Required: âœ… Oui
â”‚  Params: conversationId (ObjectId)
â”‚  Query: ?limit=50&skip=0 (pagination)
â”‚  Response: [{ id, sender, content, status, createdAt, ... }, ...]
â”‚  Status: 200 OK
â””â”€

â”Œâ”€ POST /api/messages
â”‚  Description: Envoyer un message
â”‚  Auth Required: âœ… Oui
â”‚  Body:
â”‚  {
â”‚    "conversation_id": "507f1f77bcf86cd799439010",
â”‚    "content": "Bonjour!"
â”‚  }
â”‚  Response: { id, sender, conversation, content, status: "sent", createdAt }
â”‚  Status: 201 Created
â”‚  WebSocket: Ã‰met "receive-message" Ã  tous les participants
â””â”€

â”Œâ”€ PUT /api/messages/:messageId
â”‚  Description: Ã‰diter un message
â”‚  Auth Required: âœ… Oui
â”‚  Params: messageId (ObjectId)
â”‚  Body:
â”‚  {
â”‚    "content": "Bonjour! (modifiÃ©)"
â”‚  }
â”‚  Response: { id, content, edited: true, editHistory, ... }
â”‚  Status: 200 OK
â”‚  WebSocket: Ã‰met "message-updated" aux participants
â””â”€

â”Œâ”€ DELETE /api/messages/:messageId
â”‚  Description: Supprimer un message
â”‚  Auth Required: âœ… Oui
â”‚  Params: messageId (ObjectId)
â”‚  Response: { message: "Message supprimÃ©" }
â”‚  Status: 200 OK
â””â”€

â”Œâ”€ DELETE /api/messages/conversations/:conversationId/leave
â”‚  Description: Quitter une conversation/groupe
â”‚  Auth Required: âœ… Oui
â”‚  Params: conversationId (ObjectId)
â”‚  Response: { message: "Vous avez quittÃ© la conversation" }
â”‚  Status: 200 OK
â””â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ‘¥ GROUPS ENDPOINTS (/api/groups)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€ POST /api/groups
â”‚  Description: CrÃ©er un groupe
â”‚  Auth Required: âœ… Oui
â”‚  Body:
â”‚  {
â”‚    "name": "Dev Team",
â”‚    "description": "Ã‰quipe de dÃ©veloppement",
â”‚    "avatar": "https://...",
â”‚    "memberIds": ["507f1f77bcf86cd799439012", ...]
â”‚  }
â”‚  Response: { id, name, creator, members, conversation, createdAt }
â”‚  Status: 201 Created
â””â”€

â”Œâ”€ GET /api/groups/:groupId
â”‚  Description: Obtenir les infos d'un groupe
â”‚  Auth Required: âœ… Oui
â”‚  Params: groupId (ObjectId)
â”‚  Response: { id, name, description, creator, members, settings, ... }
â”‚  Status: 200 OK
â””â”€

â”Œâ”€ PUT /api/groups/:groupId
â”‚  Description: Modifier les infos du groupe
â”‚  Auth Required: âœ… Oui (admin seulement)
â”‚  Params: groupId (ObjectId)
â”‚  Body:
â”‚  {
â”‚    "name": "Nouveau nom",
â”‚    "description": "Nouvelle description",
â”‚    "avatar": "..."
â”‚  }
â”‚  Response: { id, name, description, avatar, modificationHistory }
â”‚  Status: 200 OK
â””â”€

â”Œâ”€ POST /api/groups/:groupId/members
â”‚  Description: Ajouter un membre au groupe
â”‚  Auth Required: âœ… Oui (admin seulement)
â”‚  Params: groupId (ObjectId)
â”‚  Body:
â”‚  {
â”‚    "userId": "507f1f77bcf86cd799439012",
â”‚    "role": "member" (admin | moderator | member)
â”‚  }
â”‚  Response: { id, members }
â”‚  Status: 201 Created
â””â”€

â”Œâ”€ DELETE /api/groups/:groupId/members/:memberId
â”‚  Description: Supprimer un membre du groupe
â”‚  Auth Required: âœ… Oui (admin seulement)
â”‚  Params: groupId (ObjectId), memberId (ObjectId)
â”‚  Response: { message: "Membre supprimÃ©" }
â”‚  Status: 200 OK
â””â”€

â”Œâ”€ PUT /api/groups/:groupId/members/:memberId/role
â”‚  Description: Changer le rÃ´le d'un membre
â”‚  Auth Required: âœ… Oui (admin seulement)
â”‚  Params: groupId (ObjectId), memberId (ObjectId)
â”‚  Body:
â”‚  {
â”‚    "role": "moderator"
â”‚  }
â”‚  Response: { id, members }
â”‚  Status: 200 OK
â””â”€

â”Œâ”€ GET /api/groups/:groupId/members
â”‚  Description: Lister tous les membres du groupe
â”‚  Auth Required: âœ… Oui
â”‚  Params: groupId (ObjectId)
â”‚  Response: [{ user, role, joinedAt, lastActivityAt }, ...]
â”‚  Status: 200 OK
â””â”€

â”Œâ”€ POST /api/groups/:groupId/leave
â”‚  Description: Quitter le groupe
â”‚  Auth Required: âœ… Oui
â”‚  Params: groupId (ObjectId)
â”‚  Response: { message: "Vous avez quittÃ© le groupe" }
â”‚  Status: 200 OK
â””â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“± SESSIONS ENDPOINTS (/api/sessions)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€ GET /api/sessions
â”‚  Description: Lister toutes mes sessions actives
â”‚  Auth Required: âœ… Oui
â”‚  Response: [{ id, deviceName, userAgent, ipAddress, lastActivity, expiresAt }, ...]
â”‚  Status: 200 OK
â””â”€

â”Œâ”€ POST /api/sessions
â”‚  Description: CrÃ©er une nouvelle session
â”‚  Auth Required: âœ… Oui
â”‚  Body:
â”‚  {
â”‚    "deviceName": "iPhone 15",
â”‚    "userAgent": "Mozilla/5.0..."
â”‚  }
â”‚  Response: { id, deviceName, userAgent, ipAddress, lastActivity, expiresAt }
â”‚  Status: 201 Created
â””â”€

â”Œâ”€ DELETE /api/sessions/:sessionId
â”‚  Description: Fermer une session spÃ©cifique
â”‚  Auth Required: âœ… Oui
â”‚  Params: sessionId (ObjectId)
â”‚  Response: { message: "Session fermÃ©e" }
â”‚  Status: 200 OK
â””â”€

â”Œâ”€ DELETE /api/sessions
â”‚  Description: Fermer TOUTES les autres sessions
â”‚  Auth Required: âœ… Oui
â”‚  Body: {}
â”‚  Response: { message: "Toutes les autres sessions fermÃ©es" }
â”‚  Status: 200 OK
â””â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ MEDIA ENDPOINTS (/api/media)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€ POST /api/media/upload
â”‚  Description: Uploader un fichier
â”‚  Auth Required: âœ… Oui
â”‚  Content-Type: multipart/form-data
â”‚  Fields:
â”‚    - file (FormData file)
â”‚    - messageId (string)
â”‚  Max Size: 50MB
â”‚  Allowed Types: images, vidÃ©os, audio, documents
â”‚  Response: { id, filename, url, size, type, mimetype, metadata }
â”‚  Status: 201 Created
â””â”€

â”Œâ”€ GET /api/media/download/:fileId
â”‚  Description: TÃ©lÃ©charger un fichier
â”‚  Auth Required: âœ… Oui
â”‚  Params: fileId (ObjectId)
â”‚  Response: File Binary
â”‚  Status: 200 OK (avec header Content-Disposition)
â””â”€

â”Œâ”€ DELETE /api/media/:fileId
â”‚  Description: Supprimer un fichier (uploader seulement)
â”‚  Auth Required: âœ… Oui
â”‚  Params: fileId (ObjectId)
â”‚  Response: { message: "Fichier supprimÃ©" }
â”‚  Status: 200 OK
â””â”€

â”Œâ”€ GET /api/media/:fileId
â”‚  Description: Obtenir les infos d'un fichier
â”‚  Auth Required: âœ… Oui
â”‚  Params: fileId (ObjectId)
â”‚  Response: { id, filename, originalName, url, size, type, mimetype, uploader }
â”‚  Status: 200 OK
â””â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ”Œ WEBSOCKET EVENTS (Socket.io)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CLIENT â†’ SERVER EVENTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€ socket.emit("typing", { conversationId, userName, isTyping })
â”‚  Envoie: {"conversationId": "...", "userName": "Alice", "isTyping": true}
â”‚  Serveur rÃ©pond: Broadcast Ã  tous les participants
â””â”€

â”Œâ”€ socket.emit("mark-conversation-as-read", { conversationId })
â”‚  Envoie: {"conversationId": "..."}
â”‚  Serveur rÃ©pond: Met Ã  jour les unreadCounts
â””â”€

â”Œâ”€ socket.emit("message-read", { messageId })
â”‚  Envoie: {"messageId": "..."}
â”‚  Serveur rÃ©pond: Ajoute Ã  readBy
â””â”€

SERVER â†’ CLIENT EVENTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

â”Œâ”€ socket.on("receive-message", (message) => {...})
â”‚  ReÃ§oit: { id, sender, content, conversation, status, createdAt, ... }
â”‚  Ã‰mis: Quand quelqu'un envoie un message dans la conversation
â””â”€

â”Œâ”€ socket.on("user-typing", ({ conversationId, userName, isTyping }) => {...})
â”‚  ReÃ§oit: {"conversationId": "...", "userName": "Alice", "isTyping": true}
â”‚  Ã‰mis: Quand quelqu'un tape dans une conversation
â””â”€

â”Œâ”€ socket.on("message-updated", (message) => {...})
â”‚  ReÃ§oit: { id, content, edited: true, editHistory, ... }
â”‚  Ã‰mis: Quand un message est Ã©ditÃ©
â””â”€

â”Œâ”€ socket.on("user-status", () => {...})
â”‚  ReÃ§oit: null (signal pour rafraÃ®chir)
â”‚  Ã‰mis: Quand un utilisateur se connecte/dÃ©connecte
â””â”€

â”Œâ”€ socket.on("disconnect", () => {...})
â”‚  Ã‰mis: Quand la connexion est perdue
â””â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“ HEADERS & AUTHENTIFICATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Authorization Header:
â”Œâ”€ Bearer {accessToken}
â”‚  Example: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
â”‚  Duration: 1 jour
â”‚  Refresh: Utiliser POST /api/auth/refresh-token
â””â”€

Content-Type:
â”Œâ”€ application/json (par dÃ©faut pour les requÃªtes JSON)
â”‚  multipart/form-data (pour les uploads de fichiers)
â””â”€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âš ï¸  CODES DE RÃ‰PONSE HTTP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… 200 OK              - RequÃªte rÃ©ussie
âœ… 201 Created         - Ressource crÃ©Ã©e
âŒ 400 Bad Request     - ParamÃ¨tres invalides
âŒ 401 Unauthorized    - Token manquant ou invalide
âŒ 403 Forbidden       - AccÃ¨s refusÃ© (permissions)
âŒ 404 Not Found       - Ressource non trouvÃ©e
âŒ 500 Server Error    - Erreur serveur

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ”’ SÃ‰CURITÃ‰ & BONNES PRATIQUES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ“ Tous les endpoints protÃ©gÃ©s nÃ©cessitent un JWT valide
âœ“ Les mots de passe sont hachÃ©s avec bcrypt
âœ“ Les sessions expirent aprÃ¨s 7 jours
âœ“ Les uploads sont limitÃ©s Ã  50MB
âœ“ Les types de fichiers sont validÃ©s
âœ“ Validation des entrÃ©es avec Joi
âœ“ CORS activÃ© pour http://localhost:5000
âœ“ Rate limiting recommandÃ© en production

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š EXEMPLES DE REQUÃŠTES CURL
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# S'inscrire
curl -X POST http://localhost:5000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{"name":"Alice","email":"alice@test.com","password":"pass123"}'

# Se connecter
curl -X POST http://localhost:5000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"alice@test.com","password":"pass123"}'

# Lister les utilisateurs
curl -X GET http://localhost:5000/api/users \
  -H "Authorization: Bearer {TOKEN}"

# Envoyer un message
curl -X POST http://localhost:5000/api/messages \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer {TOKEN}" \
  -d '{"conversation_id":"...","content":"Bonjour!"}'

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
